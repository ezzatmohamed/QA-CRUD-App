(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{38:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),c=n.n(i),s=n(21),r=n.n(s),o=(n(46),n(47),n(5)),u=n(6),d=n(2),l=n(9),j=n(8),b=(n(48),n(4)),h=n(7),O=n.n(h),m=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={redirect:!1},a.logout=a.logout.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"logout",value:function(e){var t=this;e.preventDefault(),O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).post("/logout").then((function(e){localStorage.setItem("token",""),localStorage.clear(),t.setState({redirect:!0})})).catch((function(e){alert("error")}))}},{key:"render",value:function(){return this.state.redirect?Object(a.jsx)(b.a,{to:"/login"}):Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("div",{className:"header-bar",children:Object(a.jsx)("div",{className:"nav-menu",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"/question/read/1",children:"My Question"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"/question/read/2",children:"All Question"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"/question/create",children:"New Question"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"/login",children:"Login"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"/signup",children:"Signup"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"/logout",onClick:this.logout,children:"Logout"})})]})})})})}}]),n}(i.Component),p=(n(73),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={info:e.info,type:e.type,redirect:!1},a.deleteQuestion=a.deleteQuestion.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"deleteQuestion",value:function(){O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).post("/question/delete/".concat(this.state.info.id)).then((function(e){e.errors?alert("invalid delete"):alert("question deleted ! refresh the page ")})).catch((function(e){alert("error")}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("a",{href:"/answer/read/".concat(this.state.info.id),children:Object(a.jsx)("p",{children:this.state.info.content})}),this.state.info.user_id==localStorage.getItem("id")?Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:this.deleteQuestion,id:"delete-button",children:"Delete"})," ",Object(a.jsx)("a",{href:"/question/update/".concat(this.state.info.id),children:Object(a.jsx)("button",{id:"update-button",children:"Update"})})]}):""]})}}]),n}(i.Component)),f=n(10),v=(n(74),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={redirect:!1,content:""},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).post("/question/create",{content:this.state.content}).then((function(e){console.log(e),e.errors?alert("invalid question"):alert("question added")}))}},{key:"render",value:function(){return Object(a.jsx)("div",{id:"form-main",children:Object(a.jsx)("div",{id:"form-div",children:Object(a.jsxs)("form",{class:"form",id:"form1",onSubmit:this.onSubmit,children:[Object(a.jsx)("p",{class:"text",children:Object(a.jsx)("textarea",{name:"content",onChange:this.onChange,class:"feedback-input",id:"comment",placeholder:"Your Question"})}),Object(a.jsxs)("div",{class:"submit",children:[Object(a.jsx)("input",{type:"submit",value:"POST",id:"button-blue"}),Object(a.jsx)("div",{class:"ease"})]})]})})})}}]),n}(i.Component)),g=(n(75),n(24)),x=O.a.create({baseURL:"/api/"}),S=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),x.post("/login",{email:this.state.email,password:this.state.password}).then((function(e){console.log(e),e.data.message?alert("invalid login"):(console.log(e.data.token),localStorage.setItem("token",e.data.token),localStorage.setItem("id",e.data.user.id),t.setState({redirect:!0}))})).catch((function(e){alert("error")}))}},{key:"render",value:function(){return this.state.redirect?Object(a.jsx)(b.a,{to:"/question/read/2"}):Object(a.jsx)("div",{id:"form-main",children:Object(a.jsx)("div",{id:"form-div",children:Object(a.jsxs)("form",{class:"form",id:"form1",onSubmit:this.onSubmit,children:[Object(a.jsx)("p",{class:"name",children:Object(a.jsx)("input",{name:"email",type:"text",class:"feedback-input",onChange:this.onChange,placeholder:"Email",id:"name"})}),Object(a.jsx)("p",{class:"name",children:Object(a.jsx)("input",{name:"password",type:"password",class:"feedback-input",onChange:this.onChange,placeholder:"Password",id:"name"})}),Object(a.jsx)("input",{type:"submit",value:"LOGIN",id:"button-blue"}),Object(a.jsx)("div",{class:"ease"})]})})})}}]),n}(i.Component),k=(n(78),O.a.create({baseURL:"/api/"})),C=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",name:"",redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),k.post("/signup",{email:this.state.email,name:this.state.name,password:this.state.password}).then((function(e){console.log(e),e.errors?alert("error"):alert("success")}))}},{key:"render",value:function(){return Object(a.jsx)("div",{id:"form-main",children:Object(a.jsx)("div",{id:"form-div",children:Object(a.jsxs)("form",{class:"form",id:"form1",onSubmit:this.onSubmit,children:[Object(a.jsx)("p",{class:"name",children:Object(a.jsx)("input",{name:"name",type:"text",onChange:this.onChange,class:"feedback-input",placeholder:"Name",id:"name"})}),Object(a.jsx)("p",{class:"name",children:Object(a.jsx)("input",{name:"email",type:"text",onChange:this.onChange,class:"feedback-input",placeholder:"Email",id:"name"})}),Object(a.jsx)("p",{class:"name",children:Object(a.jsx)("input",{name:"password",type:"password",onChange:this.onChange,class:"feedback-input",placeholder:"Password",id:"name"})}),Object(a.jsxs)("div",{class:"submit",children:[Object(a.jsx)("input",{type:"submit",value:"Signup",id:"button-blue"}),Object(a.jsx)("div",{class:"ease"})]})]})})})}}]),n}(i.Component),w=(n(79),O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={info:e.info,redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.deleteAnswer=a.deleteAnswer.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"deleteAnswer",value:function(){O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).post("/answer/delete/".concat(this.state.info.id)).then((function(e){e.errors?alert("invalid delete"):alert("answer deleted ! refresh the page ")})).catch((function(e){alert("error")}))}},{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(a.jsx)("div",{id:"answer-main",className:"answer",children:Object(a.jsxs)("div",{id:"answer-div",children:[Object(a.jsx)("p",{className:"name",children:this.state.info.content}),localStorage.getItem("id")==this.state.info.user_id?Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:this.deleteAnswer,id:"delete-button",children:"Delete"})," ",Object(a.jsx)("a",{href:"/answer/update/".concat(this.state.info.id),children:Object(a.jsx)("button",{id:"update-button",children:"Update"})})]}):""]})})}}]),n}(i.Component)),y=(n(38),O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})),q=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={id:parseInt(e.match.params.id),answers:[],content:"",redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=this;y.get("/answer/read/".concat(this.state.id)).then((function(t){e.setState({answers:t.data.answers})}))}},{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault(),y.post("/answer/create",{content:this.state.content,question_id:this.state.id}).then((function(e){console.log(e),e.errors?alert("invalid answer"):alert("answer added ! refresh the pages")})).catch((function(e){alert("error")}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{id:"answers-main",className:"answers",children:[Object(a.jsx)("h1",{children:"Answers"}),this.state.answers.map((function(e){return Object(a.jsx)(w,{info:e},e.id)})),Object(a.jsx)("div",{id:"form-main",children:Object(a.jsx)("div",{id:"form-div",children:Object(a.jsxs)("form",{class:"form",id:"form1",onSubmit:this.onSubmit,children:[Object(a.jsx)("p",{class:"text",children:Object(a.jsx)("textarea",{name:"content",onChange:this.onChange,class:"feedback-input",id:"comment",placeholder:"Your Answer"})}),Object(a.jsxs)("div",{class:"submit",children:[Object(a.jsx)("input",{type:"submit",value:"POST",id:"button-blue"}),Object(a.jsx)("div",{class:"ease"})]})]})})})]})}}]),n}(i.Component),I=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={id:parseInt(e.match.params.id),content:"",redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"onSubmit",value:function(e){e.preventDefault(),O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).post("/answer/update/".concat(this.state.id),{content:this.state.content}).then((function(e){console.log(e),e.errors?alert("invalid update"):alert("answer updated")}))}},{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(a.jsx)("div",{id:"form-main",children:Object(a.jsx)("div",{id:"form-div",children:Object(a.jsxs)("form",{class:"form",id:"form1",onSubmit:this.onSubmit,children:[Object(a.jsx)("p",{class:"text",children:Object(a.jsx)("textarea",{name:"content",onChange:this.onChange,class:"feedback-input",id:"comment",placeholder:"Your answer"})}),Object(a.jsxs)("div",{class:"submit",children:[Object(a.jsx)("input",{type:"submit",value:"Update",id:"button-blue"}),Object(a.jsx)("div",{class:"ease"})]})]})})})}}]),n}(i.Component),A=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={id:parseInt(e.match.params.id),content:"",redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"onSubmit",value:function(e){e.preventDefault(),O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).post("/question/update/".concat(this.state.id),{content:this.state.content}).then((function(e){console.log(e),e.errors?alert("invalid update"):alert("question updated")}))}},{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(a.jsx)("div",{id:"form-main",children:Object(a.jsx)("div",{id:"form-div",children:Object(a.jsxs)("form",{class:"form",id:"form1",onSubmit:this.onSubmit,children:[Object(a.jsx)("p",{class:"text",children:Object(a.jsx)("textarea",{name:"content",onChange:this.onChange,class:"feedback-input",id:"comment",placeholder:"Your Question"})}),Object(a.jsxs)("div",{class:"submit",children:[Object(a.jsx)("input",{type:"submit",value:"Update",id:"button-blue"}),Object(a.jsx)("div",{class:"ease"})]})]})})})}}]),n}(i.Component),L=n(19),N=n(16),U=n(28),_=new(function(){function e(){Object(o.a)(this,e),this.authnticated=!1}return Object(u.a)(e,[{key:"login",value:function(e){this.authnticated=!0,e()}},{key:"logout",value:function(e){this.authnticated=!1,e()}},{key:"isAuthenticated",value:function(){return!!localStorage.getItem("token")}}]),e}()),D=function(e){var t=e.component,n=Object(U.a)(e,["component"]);return Object(a.jsx)(b.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return _.isAuthenticated()?Object(a.jsx)(t,Object(N.a)({},e)):Object(a.jsx)(b.a,{to:"/login"})}}))},R=function(e){var t=e.component,n=Object(U.a)(e,["component"]);return Object(a.jsx)(b.b,Object(N.a)(Object(N.a)({},n),{},{render:function(e){return _.isAuthenticated()?Object(a.jsx)(b.a,{to:"/question/read/2"}):Object(a.jsx)(t,Object(N.a)({},e))}}))},B=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={id:parseInt(e.match.params.id),questions:[],redirect:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){var e=this,t=O.a.create({baseURL:"/api/",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});2==this.state.id?t.get("/question/read-all").then((function(t){e.setState({questions:t.data.questions})})):t.get("/question/read-mine").then((function(t){e.setState({questions:t.data.questions})}))}},{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{id:"answers-main",className:"answers",children:[Object(a.jsx)("h1",{children:"Questions"}),this.state.questions&&this.state.questions.map((function(t){return Object(a.jsx)(p,{type:e.state.id,info:t},t.id)}))]})}}]),n}(i.Component);var E=function(){return Object(a.jsx)(L.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{}),Object(a.jsxs)(b.d,{children:[Object(a.jsx)(R,{path:["/login","/"],exact:!0,component:S}),Object(a.jsx)(R,{path:"/signup",exact:!0,component:C}),Object(a.jsx)(D,{path:"/question/create",exact:!0,component:v}),Object(a.jsx)(D,{path:"/question/update/:id",exact:!0,component:A}),Object(a.jsx)(D,{path:"/answer/update/:id",exact:!0,component:I}),Object(a.jsx)(D,{path:"/question/read/:id",exact:!0,component:B}),Object(a.jsx)(D,{path:"/answer/read/:id",exact:!0,component:q})]})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))},z=n(18),T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!e;default:return e}},P=Object(z.b)({isLogged:T}),F=Object(z.c)(P,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(g.a,{store:F,children:Object(a.jsx)(E,{})})}),document.getElementById("root")),Q()}},[[80,1,2]]]);
//# sourceMappingURL=main.80dce2f0.chunk.js.map